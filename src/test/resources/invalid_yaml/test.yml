---
AWSTemplateFormatVersion: "2010-09-09"
Description: Fully Valid YAML

Parameters:
  ThirdParameter:
    Description: A parameter
    Type: String

Resources:
  FirstSubStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: subfolder/test_substack.yml
      Parameters:
        # This should cause an error, there is no FirstParameter
        FirstParameter: !Ref FirstParameter
        SecondParameter:
          # This should cause an error, there is no SecondParameter
          Fn::ImportValue: !Sub "one-${SecondParameter}-three"
        ThirdParameter: !If [
            # TODO: This should cause an error, there is no FirstConditional
            FirstConditional,
            # This should cause an error, there is no FourthParameter
            !Ref FourthParameter,
            # TODO: This should cause an error, there is no FirstMap
            !FindInMap [FirstMap, !Ref "AWS::Region", FourthParameter],
          ]

  SecondSubStack:
    Type: AWS::ApiGateway::RestApi
    Properties:
      # This should cause an error, substack has no output, SecondOutput
      Name: !GetAtt FirstSubStack.Outputs.SecondOutput
